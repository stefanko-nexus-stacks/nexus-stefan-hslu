# =============================================================================
# Redpanda Connect - Data Streaming Framework
# =============================================================================
# Declarative data streaming connector framework (formerly Benthos) for building
# real-time data pipelines with hundreds of prebuilt connectors.
#
# Access: https://connect.<domain>
# Docs: https://docs.redpanda.com/redpanda-connect/
# =============================================================================

services:
  redpanda-connect:
    image: ${IMAGE_REDPANDA_CONNECT:-redpandadata/connect:4.43.0}
    container_name: redpanda-connect
    restart: unless-stopped
    ports:
      - "4195:4195"
    volumes:
      - ./config.yaml:/connect.yaml:ro
    environment:
      - CONNECT_BROKERS=redpanda:9092
    networks:
      - app-network
    healthcheck:
      test: ["CMD", "wget", "--spider", "-q", "http://localhost:4195/ready"]
      interval: 30s
      timeout: 10s
      retries: 3

networks:
  app-network:
    external: true
