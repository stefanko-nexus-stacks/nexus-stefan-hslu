# =============================================================================
# Redpanda Datagen - Test Data Generator
# =============================================================================
# Generates realistic test data for Redpanda topics. Enable this stack via the
# Control Panel when you need test data, disable it when not needed.
#
# Access: https://datagen.<domain>
# Target topic: test-events
# =============================================================================

services:
  redpanda-datagen:
    image: ${IMAGE_REDPANDA_DATAGEN:-redpandadata/connect:4.43.0}
    container_name: redpanda-datagen
    restart: unless-stopped
    ports:
      - "4196:4195"
    volumes:
      - ./config.yaml:/connect.yaml:ro
    networks:
      - app-network
    healthcheck:
      test: ["CMD", "wget", "--spider", "-q", "http://localhost:4195/ready"]
      interval: 30s
      timeout: 10s
      retries: 3

networks:
  app-network:
    external: true
